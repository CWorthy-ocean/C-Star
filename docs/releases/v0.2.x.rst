.. _v0.2.x:

v0.2.x
------

This is a bug-fix release focused on stabilizing the orchestration of blueprints.

.. note:: 
    This release is currently in development


Breaking Changes
~~~~~~~~~~~~~~~~

- Environment variables ``CSTAR_HOME`` and ``CSTAR_OUTDIR`` are deprecated in favor of ``CSTAR_CONFIG_HOME`` and ``CSTAR_STATE_HOME``
- Relocated command conversion functions from `cstar.orchestration.launch.slurm` to `cstar.orchestration.converter`
- Promote blueprint overrides to always-on, deprecate and remove feature flag ``CSTAR_FF_ORCH_TRX_OVERRIDE``

New features
~~~~~~~~~~~~

- Add remote repository caching for re-use across simulations
- XDG base directory standard is implemented

Security Fixes
~~~~~~~~~~~~~~

- N/A

Bug Fixes
~~~~~~~~~

- Fix path concatenation bug resulting in invalid source data paths
- Fix indentation creating an unreachable code block in git utils
- Add conda installation of rsync to environment.yml (fixes bug related to a flag used in newer ucla-roms makefiles that is not available in MacOS's default rsync installation)
- Reimplement CSTAR_CLOBBER_WORKING_DIR for single-blueprint cases
- Fix bug handling user-relative paths in `JobFileSystemManager`

Improvements
~~~~~~~~~~~~

- Avoid automatic failures by retrying failed git clone operations
- Add informational logging when tasks fail and additional tasks are cancelled
- Update default log format to include file name and line number
- Add constants for the set of available feature flags
- Implement CSTAR_LOG_LEVEL env-var
- Automatically retry partitioning without coarse dims if it fails when they are included
- Enable orchestrated simulation execution using the local runner

Miscellaneous
~~~~~~~~~~~~~

- Additional details added in docstrings
- Silence OMP warning originating from numba
- Modify a blueprint in the tests directory for a refactored layout in the remote data repository
- Move env-var handling methods to separate module to avoid circular imports
- Remove __init__-based import shortcuts
- Adjust error handling and presentation in the worker/service layer

---

For more details, please refer to the `commit history`_.

.. _commit history: https://github.com/CWorthy-ocean/C-Star/compare/v0.2.0...v0.2.x
